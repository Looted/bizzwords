import{A as $,B as re,Ba as S,C as oe,D as ie,E as se,Ea as be,G as ae,H as le,I as m,Ia as xe,J as de,Ja as M,Ka as Ce,La as we,Na as ye,O as U,Oa as ke,P as d,Pa as Se,Qa as Me,R as ce,Ra as Ee,S as y,Sa as Ie,Va as Te,W as Y,Wa as _e,Y as pe,Z,_ as ue,a as X,ba as me,c as A,ca as ge,d as j,da as he,ea as x,fa as a,ga as c,ha as k,i as f,ia as F,ja as H,k as g,l as z,la as q,ma as Q,n as w,na as O,o as D,oa as fe,pa as C,q as v,r as ee,t as b,v as te,w as K,wa as p,x as s,xa as ve,y as ne,ya as P,z as G}from"./chunk-M2XC7DS3.js";crypto.randomUUID||(crypto.randomUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n==="x"?t:t&3|8).toString(16)})});var J="Service workers are disabled or not supported by this browser",E=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new A(r=>r.error(new v(5601,!1)));else{let r=null,o=new j;this.worker=new A(u=>(r!==null&&u.next(r),o.subscribe(R=>u.next(R))));let i=()=>{let{controller:u}=t;u!==null&&(r=u,o.next(r))};t.addEventListener("controllerchange",i),i(),this.registration=this.worker.pipe(D(()=>t.getRegistration().then(u=>{if(!u)throw new v(5601,!1);return u})));let l=new j;this.events=l.asObservable();let h=u=>{let{data:R}=u;R?.type&&l.next(R)};t.addEventListener("message",h),e?.get(Z,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",i),t.removeEventListener("message",h)})}}postMessage(t,e){return new Promise(r=>{this.worker.pipe(w(1)).subscribe(o=>{o.postMessage(X({action:t},e)),r()})})}postMessageWithOperation(t,e,r){let o=this.waitForOperationCompleted(r),i=this.postMessage(t,e);return Promise.all([i,o]).then(([,l])=>l)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=r=>r.type===t:e=r=>t.includes(r.type),this.events.pipe(z(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(w(1))}waitForOperationCompleted(t){return new Promise((e,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(z(o=>o.nonce===t),w(1),f(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:e,error:r})})}get isEnabled(){return!!this.serviceWorker}},Ae=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new j;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=g,this.notificationClicks=g,this.notificationCloses=g,this.pushSubscriptionChanges=g,this.subscription=g;return}this.messages=this.sw.eventsOfType("PUSH").pipe(f(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(f(o=>o.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(f(o=>o.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(f(o=>o.data)),this.pushManager=this.sw.registration.pipe(f(o=>o.pushManager));let r=this.pushManager.pipe(D(o=>o.getSubscription()));this.subscription=new A(o=>{let i=r.subscribe(o),l=this.subscriptionChanges.subscribe(o);return()=>{i.unsubscribe(),l.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(J));let r={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let l=0;l<o.length;l++)i[l]=o.charCodeAt(l);return r.applicationServerKey=i,new Promise((l,h)=>{this.pushManager.pipe(D(_=>_.subscribe(r)),w(1)).subscribe({next:_=>{this.subscriptionChanges.next(_),l(_)},error:h})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(J));let e=r=>{if(r===null)throw new v(5602,!1);return r.unsubscribe().then(o=>{if(!o)throw new v(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,o)=>{this.subscription.pipe(w(1),D(e)).subscribe({next:r,error:o})})}decodeBase64(e){return atob(e)}static \u0275fac=function(r){return new(r||n)(K(E))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),je=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=g,this.unrecoverable=g;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(J));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new v(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(r){return new(r||n)(K(E))};static \u0275prov=b({token:n,factory:n.\u0275fac})}return n})(),Oe=new te("");function Ue(){let n=s(L);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let t=s(Oe),e=s(ae),r=s(Z);e.runOutsideAngular(()=>{let o=navigator.serviceWorker,i=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",i),r.onDestroy(()=>{o.removeEventListener("controllerchange",i)})}),e.runOutsideAngular(()=>{let o,{registrationStrategy:i}=n;if(typeof i=="function")o=new Promise(l=>i().subscribe(()=>l()));else{let[l,...h]=(i||"registerWhenStable:30000").split(":");switch(l){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=De(+h[0]||0);break;case"registerWhenStable":o=Promise.race([r.whenStable(),De(+h[0])]);break;default:throw new v(5600,!1)}}o.then(()=>{r.destroyed||navigator.serviceWorker.register(t,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(l=>console.error(ee(5604,!1)))})})}function De(n){return new Promise(t=>setTimeout(t,n))}function Fe(){let n=s(L),t=s(ie),e=!0;return new E(e&&n.enabled!==!1?navigator.serviceWorker:void 0,t)}var L=class{enabled;updateViaCache;type;scope;registrationStrategy};function Pe(n,t={}){return ne([Ae,je,{provide:Oe,useValue:n},{provide:L,useValue:t},{provide:E,useFactory:Fe},pe(Ue)])}var Le=[{path:"",loadComponent:()=>import("./chunk-PJWCMALL.js").then(n=>n.MenuComponent)},{path:"game",loadComponent:()=>import("./chunk-4SSKBF5U.js").then(n=>n.GameComponent)},{path:"summary",loadComponent:()=>import("./chunk-XURSYZLA.js").then(n=>n.SummaryComponent)}];var Ne={providers:[Ie(Le),ye(),le(),Pe("ngsw-worker.js",{enabled:!be(),registrationStrategy:"registerWhenStable:30000"}),Se(ke())]};var I=class n{deferredPrompt=null;showInstallButton=m(!1,{});init(){typeof window>"u"||(window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),this.deferredPrompt=t,this.showInstallButton.set(!0)}),window.addEventListener("appinstalled",()=>{this.showInstallButton.set(!1),this.deferredPrompt=null}))}async installPWA(){if(!this.deferredPrompt)return;this.deferredPrompt.prompt();let{outcome:t}=await this.deferredPrompt.userChoice;this.showInstallButton.set(!1),this.deferredPrompt=null}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})};var T=class n{platformId=s(U);document=s(se);themeMode=m("system",{});systemPrefersDark=m(!1,{});currentMode=m("light",{});constructor(){if(Ce(this.platformId)){let t=localStorage.getItem("theme-mode");t&&["light","dark","system"].includes(t)&&this.themeMode.set(t);let e=window.matchMedia("(prefers-color-scheme: dark)");this.systemPrefersDark.set(e.matches),e.addEventListener("change",r=>{this.systemPrefersDark.set(r.matches)}),de(()=>{let r=this.themeMode(),o=this.systemPrefersDark(),i=r==="dark"||r==="system"&&o;this.currentMode.set(i?"dark":"light"),i?this.document.documentElement.classList.add("dark"):this.document.documentElement.classList.remove("dark"),localStorage.setItem("theme-mode",r)})}}setThemeMode(t){this.themeMode.set(t)}cycleTheme(){let t=["light","dark","system"],e=(t.indexOf(this.themeMode())+1)%t.length;this.setThemeMode(t[e])}static \u0275fac=function(e){return new(e||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})};function He(n,t){if(n&1&&(F(0,"option",3),p(1),H()),n&2){let e=t.$implicit,r=C();Q("value",e),d(),P(" ",r.getLanguageDisplayName(e)," ")}}var W=class n{languageService=s(Te);supportedLanguages=S(()=>this.languageService.getSupportedLanguages(),{});get currentLanguage(){return this.languageService.nativeLanguage}onLanguageChange(t){let e=t.target;this.languageService.nativeLanguage=e.value}getLanguageDisplayName(t){return this.languageService.getLanguageDisplayName(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-language-switcher"]],decls:6,vars:1,consts:[[1,"flex","items-center","gap-3","px-4","py-2","bg-slate-100/50","dark:bg-slate-800/50","rounded-xl","hover:bg-slate-100","dark:hover:bg-slate-800","transition-colors"],["for","language-select",1,"text-[10px]","font-bold","uppercase","tracking-wider","text-slate-400","dark:text-slate-500","mb-0","leading-none"],["id","language-select","aria-label","Select your native language",1,"bg-transparent","text-sm","font-semibold","text-slate-700","dark:text-slate-200","cursor-pointer","focus:outline-none",3,"change","value"],[1,"text-slate-900","dark:text-slate-100","dark:bg-slate-800",3,"value"]],template:function(e,r){e&1&&(F(0,"div",0)(1,"label",1),p(2,"Native:"),H(),F(3,"select",2),fe("change",function(i){return r.onLanguageChange(i)}),ge(4,He,2,2,"option",3,me),H()()),e&2&&(d(3),Q("value",r.currentLanguage),d(),he(r.supportedLanguages()))},dependencies:[M],encapsulation:2,changeDetection:0})};function We(n,t){if(n&1&&(a(0,"div",16)(1,"span",17),p(2,"Progress"),c(),a(3,"span",18),p(4),a(5,"span",19),p(6,"/"),c(),p(7),c()()),n&2){let e=C();d(4),P("",e.currentIndex," "),d(3),P(" ",e.totalCards)}}function Be(n,t){if(n&1){let e=q();a(0,"button",20),O("click",function(){G(e);let o=C();return $(o.onInstallClick())}),re(),a(1,"svg",21),k(2,"path",22)(3,"polyline",23)(4,"line",24),c(),oe(),a(5,"span"),p(6,"Install"),c()()}}function Ve(n,t){if(n&1){let e=q();a(0,"label",25)(1,"input",26),O("change",function(o){G(e);let i=C();return $(i.onAIToggleChange(o))}),c(),a(2,"span",27),p(3,"AI Mode"),c()()}if(n&2){let e=C();d(),x("checked",!e.useStatic())}}var B=class n{pwaService=s(I);themeService=s(T);router=s(Ee);showCardCount=!1;currentIndex=0;totalCards=0;showDevControls=m(!1,{});useStatic=m(!0,{});TRIPLE_CLICK_THRESHOLD=3;CLICK_TIMEOUT_MS=500;logoClickCount=0;logoClickTimeout=null;onInstallClick(){this.pwaService.installPWA()}onThemeToggle(){this.themeService.cycleTheme()}getThemeIcon(){switch(this.themeService.themeMode()){case"light":return"\u2600\uFE0F";case"dark":return"\u{1F319}";case"system":return"\u{1F4BB}";default:return"\u{1F4BB}"}}onLogoClick(){this.logoClickCount++,this.logoClickTimeout&&clearTimeout(this.logoClickTimeout),this.logoClickTimeout=setTimeout(()=>{this.logoClickCount=0},this.CLICK_TIMEOUT_MS),this.logoClickCount===this.TRIPLE_CLICK_THRESHOLD?(this.showDevControls.set(!this.showDevControls()),this.logoClickCount=0):this.router.navigate(["/"])}ngOnDestroy(){this.logoClickTimeout&&clearTimeout(this.logoClickTimeout)}onAIToggleChange(t){let e=t.target.checked;this.useStatic.set(!e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-header"]],inputs:{showCardCount:"showCardCount",currentIndex:"currentIndex",totalCards:"totalCards"},decls:20,vars:5,consts:[[1,"sticky","top-0","z-40","w-full","transition-all","duration-200","border-b","border-white/50","dark:border-slate-800/50","bg-white/70","dark:bg-slate-900/70","backdrop-blur-xl","supports-[backdrop-filter]:bg-white/60","dark:supports-[backdrop-filter]:bg-slate-900/60"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","h-16","items-center","justify-between"],[1,"flex","items-center","gap-3","cursor-pointer","group",3,"click"],[1,"relative","flex","h-10","w-10","items-center","justify-center","rounded-xl","bg-gradient-to-br","from-blue-600","to-indigo-600","shadow-lg","shadow-blue-600/20","transition-transform","group-hover:scale-105"],[1,"text-xl","font-bold","text-white"],[1,"flex","flex-col"],[1,"text-lg","font-bold","tracking-tight","text-slate-900","dark:text-white","group-hover:text-blue-700","dark:group-hover:text-blue-400","transition-colors"],[1,"text-[0.65rem]","font-medium","uppercase","tracking-wider","text-slate-500","dark:text-slate-400"],[1,"flex","items-center","gap-2","sm:gap-4"],["class","hidden md:flex flex-col items-end mr-2",4,"ngIf"],[1,"hidden","sm:block"],[1,"flex","h-9","w-9","items-center","justify-center","rounded-lg","text-slate-500","hover:bg-slate-100","hover:text-slate-900","dark:text-slate-400","dark:hover:bg-slate-800","dark:hover:text-slate-50","transition-all","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"click"],[1,"text-lg"],["class","hidden sm:flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white transition-all bg-slate-900 dark:bg-blue-600 rounded-lg hover:bg-slate-800 dark:hover:bg-blue-500 hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0",3,"click",4,"ngIf"],["class","flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 cursor-pointer transition-colors hover:bg-indigo-100 dark:hover:bg-indigo-900/50",4,"ngIf"],[1,"hidden","md:flex","flex-col","items-end","mr-2"],[1,"text-xs","font-semibold","text-slate-400","dark:text-slate-500","uppercase","tracking-wide"],[1,"text-sm","font-bold","text-slate-700","dark:text-slate-200","font-mono"],[1,"text-slate-300","dark:text-slate-600"],[1,"hidden","sm:flex","items-center","gap-2","px-4","py-2","text-sm","font-semibold","text-white","transition-all","bg-slate-900","dark:bg-blue-600","rounded-lg","hover:bg-slate-800","dark:hover:bg-blue-500","hover:shadow-lg","hover:-translate-y-0.5","active:translate-y-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","y1","15","x2","12","y2","3"],[1,"flex","items-center","gap-2","px-3","py-1.5","rounded-full","bg-indigo-50","dark:bg-indigo-900/30","border","border-indigo-100","dark:border-indigo-800","cursor-pointer","transition-colors","hover:bg-indigo-100","dark:hover:bg-indigo-900/50"],["type","checkbox",1,"w-4","h-4","text-indigo-600","rounded","focus:ring-indigo-500","border-indigo-300",3,"change","checked"],[1,"text-xs","font-bold","text-indigo-700","dark:text-indigo-300"]],template:function(e,r){e&1&&(a(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3),O("click",function(){return r.onLogoClick()}),a(4,"div",4)(5,"span",5),p(6,"B"),c()(),a(7,"div",6)(8,"h1",7),p(9,"BizzWords"),c(),a(10,"span",8),p(11,"Business Lingo"),c()()(),a(12,"div",9),Y(13,We,8,2,"div",10),k(14,"app-language-switcher",11),a(15,"button",12),O("click",function(){return r.onThemeToggle()}),a(16,"span",13),p(17),c()(),Y(18,Be,7,0,"button",14)(19,Ve,4,1,"label",15),c()()()()),e&2&&(d(13),x("ngIf",r.showCardCount),d(2),ue("aria-label","Switch theme"),d(2),ve(r.getThemeIcon()),d(),x("ngIf",r.pwaService.showInstallButton()),d(),x("ngIf",r.showDevControls))},dependencies:[M,xe,W],styles:["[_nghost-%COMP%]{display:block}"]})};var V=class n{constructor(t){this.platformId=t}store=s(_e);pwaService=s(I);themeService=s(T);shouldShowCardCount=S(()=>this.store.phase()==="PLAYING",{});currentCardIndex=S(()=>this.store.graduatePile().length,{});totalCardCount=S(()=>this.store.activeDeck().length,{});ngOnInit(){this.pwaService.init()}static \u0275fac=function(e){return new(e||n)(ce(U))};static \u0275cmp=y({type:n,selectors:[["app-root"]],decls:7,vars:3,consts:[[1,"min-h-screen","flex","flex-col","relative","overflow-hidden","transition-colors","duration-300"],[1,"absolute","top-0","left-0","w-full","h-96","bg-gradient-to-b","from-blue-50/40","to-transparent","dark:from-blue-900/10","pointer-events-none","-z-10"],[1,"absolute","-top-24","-right-24","w-96","h-96","bg-indigo-100/30","dark:bg-indigo-900/10","rounded-full","blur-3xl","pointer-events-none","-z-10"],[1,"absolute","top-1/2","-left-24","w-72","h-72","bg-blue-100/30","dark:bg-blue-900/10","rounded-full","blur-3xl","pointer-events-none","-z-10"],[1,"z-50",3,"showCardCount","currentIndex","totalCards"],[1,"flex-grow","flex","flex-col","w-full","max-w-4xl","mx-auto","p-4","sm:p-6","lg:p-8","relative","z-10","transition-all","duration-300","ease-in-out"]],template:function(e,r){e&1&&(a(0,"div",0),k(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-header",4),a(5,"main",5),k(6,"router-outlet"),c()()),e&2&&(d(4),x("showCardCount",r.shouldShowCardCount())("currentIndex",r.currentCardIndex())("totalCards",r.totalCardCount()))},dependencies:[M,Me,B],styles:["[_nghost-%COMP%]{display:block}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}"]})};we(V,Ne).catch(n=>console.error(n));
