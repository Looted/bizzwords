import{e as H,g as q,i as W}from"./chunk-W3Z4CWB7.js";import{A as u,Aa as F,B as w,Ba as y,C as E,Ga as L,Ha as A,I as p,Ia as O,Ja as j,Ka as S,O as I,P as l,R as P,Ra as B,S as D,Ta as z,Ua as $,W as b,a as M,b as C,ca as N,da as G,ea as d,fa as i,ga as n,ha as h,la as _,na as g,pa as c,ta as T,ua as V,wa as a,x as v,xa as f,ya as k,z as m}from"./chunk-M2XC7DS3.js";var J=()=>[1,2,3],K=(o,t)=>t.id;function Q(o,t){if(o&1){let e=_();i(0,"button",12),g("click",function(){m(e);let r=c(2);return u(r.continueLearning())}),i(1,"div",13),h(2,"div",14),i(3,"div",15),a(4," \u25B6\uFE0F "),n(),i(5,"div",16)(6,"h3",17),a(7,"Continue Learning"),n(),i(8,"div",18)(9,"span",19),a(10),n(),i(11,"span",20),a(12,"\u2022"),n(),i(13,"span"),a(14),n()()(),i(15,"div",21),w(),i(16,"svg",22),h(17,"path",23)(18,"path",24),n()()()()}if(o&2){let e,s,r=c(2);d("disabled",r.isLoading),l(10),f(r.getCategoryName(((e=r.lastSession())==null?null:e.category)??null)),l(4),f(((s=r.lastSession())==null?null:s.gameMode)==="classic"?"Classic":"Blitz")}}function U(o,t){o&1&&(i(0,"div",25),h(1,"div",26),i(2,"span",27),a(3,"Or start fresh"),n(),h(4,"div",26),n())}function X(o,t){if(o&1&&(i(0,"span",37),a(1),n()),o&2){let e=c().$implicit;l(),k(" \u26A0\uFE0F ",e.needsPractice," to review ")}}function Y(o,t){if(o&1){let e=_();i(0,"button",28),g("click",function(){let r=m(e).$implicit,x=c(2);return u(x.selectCategory(r.id))}),i(1,"div",29),a(2),n(),i(3,"h3",30),a(4),n(),i(5,"p",31),a(6),n(),i(7,"div",32)(8,"div",33),b(9,X,2,1,"span",34),n(),i(10,"div",35),h(11,"div",36),n()()()}if(o&2){let e=t.$implicit,s=c(2);d("disabled",s.isLoading),l(),d("ngClass",e.id==="hr"?"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300"),l(),k(" ",e.icon," "),l(2),f(e.name),l(2),k("",e.totalLearned," words mastered"),l(3),d("ngIf",e.needsPractice>0),l(2),T("width",s.getProgressPercentage(e),"%")}}function Z(o,t){if(o&1&&(i(0,"div",3)(1,"div",4)(2,"h1",5),a(3," Master "),i(4,"span",6),a(5,"Business"),n(),a(6," Lingo "),n(),i(7,"p",7),a(8," Level up your professional vocabulary with spaced repetition and AI-powered decks. "),n()(),b(9,Q,19,3,"button",8)(10,U,5,0,"div",9),i(11,"div",10),N(12,Y,12,8,"button",11,K),n()()),o&2){let e=c();l(9),d("ngIf",e.lastSession()),l(),d("ngIf",e.lastSession()),l(2),G(e.categoryStats())}}function ee(o,t){if(o&1){let e=_();i(0,"button",56),g("click",function(){let r=m(e).$implicit,x=c(2);return u(x.selectedDifficulty.set(r))}),a(1),n()}if(o&2){let e=t.$implicit,s=c(2);d("ngClass",s.selectedDifficulty()===e?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-300 hover:text-slate-700 dark:hover:text-white"),l(),k(" ",e===1?"Easy":e===2?"Medium":"Hard"," ")}}function te(o,t){o&1&&(i(0,"span",66),a(1,"\u23F3"),n())}function ie(o,t){if(o&1){let e=_();i(0,"div",38)(1,"div",39)(2,"button",40),g("click",function(){m(e);let r=c();return u(r.backToHome())}),w(),i(3,"svg",22),h(4,"path",41),n()(),E(),i(5,"div")(6,"h2",42),a(7),n(),i(8,"p",43),a(9,"Configure your session"),n()()(),i(10,"div",44)(11,"section")(12,"h3",45),a(13,"Game Mode"),n(),i(14,"div",46)(15,"label",47)(16,"input",48),g("change",function(){m(e);let r=c();return u(r.selectedGameMode.set("classic"))}),n(),i(17,"div",49)(18,"div",50),a(19,"\u{1F3AE}"),n(),i(20,"div",51),a(21,"Classic"),n(),i(22,"div",52),a(23,"Standard flashcards"),n()()(),i(24,"label",47)(25,"input",53),g("change",function(){m(e);let r=c();return u(r.selectedGameMode.set("blitz"))}),n(),i(26,"div",49)(27,"div",50),a(28,"\u26A1"),n(),i(29,"div",51),a(30,"Blitz"),n(),i(31,"div",52),a(32,"Fast-paced typing"),n()()()()(),i(33,"section")(34,"h3",45),a(35,"Difficulty"),n(),i(36,"div",54),b(37,ee,2,2,"button",55),i(38,"button",56),g("click",function(){m(e);let r=c();return u(r.selectedDifficulty.set(null))}),a(39," All "),n()()(),i(40,"section")(41,"h3",45),a(42,"Content"),n(),i(43,"div",57)(44,"label",58)(45,"input",59),g("change",function(){m(e);let r=c();return u(r.selectedPracticeMode.set(r.GameMode.New))}),n(),i(46,"div",60)(47,"span",61),a(48,"Learn New Words"),n(),i(49,"span",62),a(50,"Expand your vocabulary"),n()()(),i(51,"label",58)(52,"input",63),g("change",function(){m(e);let r=c();return u(r.selectedPracticeMode.set(r.GameMode.Practice))}),n(),i(53,"div",60)(54,"span",61),a(55,"Review Mistakes"),n(),i(56,"span",62),a(57,"Focus on what you missed"),n()()()()(),i(58,"button",64),g("click",function(){m(e);let r=c();return u(r.startSession())}),b(59,te,2,0,"span",65),i(60,"span"),a(61),n()()()()}if(o&2){let e=c();l(7),f(e.getCategoryName(e.selectedCategory())),l(9),d("checked",e.selectedGameMode()==="classic"),l(9),d("checked",e.selectedGameMode()==="blitz"),l(12),d("ngForOf",F(12,J)),l(),d("ngClass",e.selectedDifficulty()===null?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-300 shadow-sm":"text-slate-500 dark:text-slate-300 hover:text-slate-700 dark:hover:text-white"),l(7),d("checked",e.selectedPracticeMode()===e.GameMode.New),l(6),V("opacity-50",e.getMistakesCount(e.selectedCategory())===0),l(),d("checked",e.selectedPracticeMode()===e.GameMode.Practice),l(6),d("disabled",e.isLoading),l(),d("ngIf",e.isLoading),l(2),f(e.isLoading?"Generating Deck...":"Start Session")}}var R=class o{constructor(t){this.platformId=t}gameService=v(W);statsService=v($);router=v(B);storageService=v(z);currentScreen=p("home",{});useStatic=p(!0,{});selectedDifficulty=p(null,{});selectedPracticeMode=p("new",{});selectedGameMode=p("classic",{});selectedCategory=p(null,{});isLoading=!1;useAI=y(()=>!this.useStatic(),{});lastSession=p(null,{});categoryStats=y(()=>this.categories.map(t=>{let e=this.statsService.getStatsByCategory(t.id),s=e.filter(x=>x.masteryLevel>=4).length,r=e.filter(x=>x.masteryLevel<2).length;return C(M({},t),{mastered:s,needsPractice:r,totalLearned:s+r})}),{});overallStats=y(()=>{let t=this.statsService.getAllStats(),e=t.filter(r=>r.masteryLevel>=4).length,s=t.filter(r=>r.masteryLevel<2).length;return{mastered:e,needsPractice:s,grade:this.calculateGrade(e,s)}},{});categories=[{id:"hr",name:"HR Words",icon:"\u{1F465}",bgClass:"bg-purple-50 hover:bg-purple-100",borderClass:"border-purple-200",textClass:"text-purple-700",ringClass:"ring-purple-500"},{id:"pm",name:"Project Management",icon:"\u{1F4CA}",bgClass:"bg-blue-50 hover:bg-blue-100",borderClass:"border-blue-200",textClass:"text-blue-700",ringClass:"ring-blue-500"}];GameMode=q;get isMobile(){return S(this.platformId)?window.innerWidth<768:!1}ngOnInit(){if(S(this.platformId)){this.isMobile&&this.useStatic.set(!0);let t=this.storageService.getItem("lastSession");if(t)try{let e=JSON.parse(t);this.lastSession.set(e)}catch(e){console.warn("Failed to parse stored session data:",e)}}}onAICheckboxChange(t){let e=t.target.checked;this.useStatic.set(!e)}selectCategory(t){this.selectedCategory.set(t),this.currentScreen.set("config")}backToHome(){this.currentScreen.set("home"),this.selectedCategory.set(null)}async quickStartNew(t){this.selectedCategory.set(t),this.selectedPracticeMode.set("new"),this.selectedGameMode.set("classic"),this.selectedDifficulty.set(null),await this.startSession()}async quickStartPracticeFromHome(t){this.selectedCategory.set(t),this.selectedPracticeMode.set("practice"),this.selectedGameMode.set("classic"),this.selectedDifficulty.set(null),await this.startSession()}quickStartNewWords(){this.selectedCategory()&&(this.selectedPracticeMode.set("new"),this.startSession())}quickStartPractice(){this.selectedCategory()&&(this.selectedPracticeMode.set("practice"),this.startSession())}continueLearning(){let t=this.lastSession();t&&(this.selectedCategory.set(t.category),this.selectedPracticeMode.set(t.practiceMode),this.selectedGameMode.set(t.gameMode),this.selectedDifficulty.set(t.difficulty),this.startSession())}async startSession(){let t=this.selectedCategory();if(t){this.isLoading=!0;try{await this.gameService.startGame(t,this.selectedPracticeMode(),this.selectedGameMode(),this.useStatic(),this.selectedDifficulty());let e={category:t,practiceMode:this.selectedPracticeMode(),gameMode:this.selectedGameMode(),difficulty:this.selectedDifficulty()};this.lastSession.set(e),this.storageService.setItem("lastSession",JSON.stringify(e)),this.router.navigate(["/game"])}catch(e){console.error("[MenuComponent] Failed to start session:",e),alert("Failed to start session. Please try again."),this.currentScreen.set("home"),this.selectedCategory.set(null)}finally{this.isLoading=!1}}}calculateGrade(t,e){let s=t+e;if(s===0)return"N/A";let r=t/s;return r>=.9?"A":r>=.8?"B":r>=.7?"C":r>=.6?"D":"F"}getCategoryName(t){return t&&this.categories.find(s=>s.id===t)?.name||""}getDifficultyDisplayName(t){if(t===null)return"All levels";switch(t){case 1:return"Easy";case 2:return"Medium";case 3:return"Hard";default:return"All levels"}}getCategoryStats(t){return this.categoryStats().find(e=>e.id===t)||{mastered:0,needsPractice:0,totalLearned:0}}getProgressPercentage(t){return 0}getNewWordsCount(t){return 0}getMistakesCount(t){return 0}static \u0275fac=function(e){return new(e||o)(P(I))};static \u0275cmp=D({type:o,selectors:[["app-menu"]],decls:3,vars:2,consts:[[1,"w-full","max-w-2xl","mx-auto","animate-fade-in"],["class","flex flex-col gap-8",4,"ngIf"],["class","flex flex-col h-full animate-slide-up",4,"ngIf"],[1,"flex","flex-col","gap-8"],[1,"text-center","space-y-2","py-8"],[1,"text-4xl","font-extrabold","tracking-tight","text-slate-900","dark:text-white","sm:text-5xl"],[1,"text-transparent","bg-clip-text","bg-gradient-to-r","from-blue-600","to-indigo-600","dark:from-blue-400","dark:to-indigo-400",2,"color","rgb(37 99 235)","background-image","linear-gradient(to right, rgb(37 99 235), rgb(79 70 229))"],[1,"text-lg","text-slate-600","dark:text-slate-400","max-w-lg","mx-auto"],["class","group relative w-full overflow-hidden rounded-2xl bg-white dark:bg-slate-800 p-1 shadow-md shadow-slate-200/60 dark:shadow-slate-900/50 ring-1 ring-slate-200 dark:ring-white/10 transition-all hover:shadow-xl hover:-translate-y-1 hover:ring-blue-500/40",3,"disabled","click",4,"ngIf"],["class","relative flex items-center py-2",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"group","relative","flex","flex-col","items-center","p-6","bg-white","dark:bg-slate-800","rounded-2xl","shadow-sm","ring-1","ring-slate-200","dark:ring-white/5","transition-all","hover:shadow-md","hover:ring-blue-500/50","hover:bg-slate-50","dark:hover:bg-slate-700","text-center","h-full",3,"disabled"],[1,"group","relative","w-full","overflow-hidden","rounded-2xl","bg-white","dark:bg-slate-800","p-1","shadow-md","shadow-slate-200/60","dark:shadow-slate-900/50","ring-1","ring-slate-200","dark:ring-white/10","transition-all","hover:shadow-xl","hover:-translate-y-1","hover:ring-blue-500/40",3,"click","disabled"],[1,"relative","flex","items-center","gap-6","rounded-xl","bg-gradient-to-r","from-slate-900","to-slate-800","dark:from-slate-800","dark:to-slate-900","p-6","sm:p-8"],[1,"absolute","right-0","top-0","-mt-8","-mr-8","h-32","w-32","rounded-full","bg-white/5","blur-2xl","transition-all","group-hover:bg-white/10"],[1,"flex","h-16","w-16","shrink-0","items-center","justify-center","rounded-full","bg-white/10","text-3xl","shadow-inner","backdrop-blur-sm","group-hover:scale-110","transition-transform"],[1,"flex-1","text-left"],[1,"text-lg","font-bold","text-white","mb-1"],[1,"flex","flex-wrap","gap-2","text-sm","text-slate-300"],[1,"bg-white/10","px-2","py-0.5","rounded","text-xs","font-medium"],[1,"text-slate-500"],[1,"text-white/50","group-hover:translate-x-1","transition-transform"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M5 12h14"],["d","m12 5 7 7-7 7"],[1,"relative","flex","items-center","py-2"],[1,"flex-grow","border-t","border-slate-300","dark:border-slate-700"],[1,"flex-shrink-0","mx-4","text-xs","font-semibold","uppercase","tracking-wider","text-slate-400","dark:text-slate-500"],[1,"group","relative","flex","flex-col","items-center","p-6","bg-white","dark:bg-slate-800","rounded-2xl","shadow-sm","ring-1","ring-slate-200","dark:ring-white/5","transition-all","hover:shadow-md","hover:ring-blue-500/50","hover:bg-slate-50","dark:hover:bg-slate-700","text-center","h-full",3,"click","disabled"],[1,"mb-4","inline-flex","h-14","w-14","items-center","justify-center","rounded-2xl","text-3xl","shadow-sm","transition-transform","group-hover:scale-110","group-hover:rotate-3",3,"ngClass"],[1,"text-lg","font-bold","text-slate-900","dark:text-white"],[1,"mt-1","text-sm","text-slate-500","dark:text-slate-400","mb-4"],[1,"w-full","mt-auto"],[1,"flex","gap-2","justify-center","mb-3"],["class","inline-flex items-center gap-1 px-2 py-1 rounded-md bg-amber-50 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs font-medium ring-1 ring-inset ring-amber-600/20 dark:ring-amber-500/30",4,"ngIf"],[1,"h-1.5","w-full","rounded-full","bg-slate-100","dark:bg-slate-700","overflow-hidden"],[1,"h-full","bg-blue-500","transition-all","duration-500"],[1,"inline-flex","items-center","gap-1","px-2","py-1","rounded-md","bg-amber-50","dark:bg-amber-900/30","text-amber-700","dark:text-amber-300","text-xs","font-medium","ring-1","ring-inset","ring-amber-600/20","dark:ring-amber-500/30"],[1,"flex","flex-col","h-full","animate-slide-up"],[1,"flex","items-center","gap-4","mb-8"],[1,"p-2","rounded-xl","hover:bg-slate-200","dark:hover:bg-slate-700","text-slate-500","dark:text-slate-400","transition-colors",3,"click"],["d","m15 18-6-6 6-6"],[1,"text-2xl","font-bold","text-slate-900","dark:text-white"],[1,"text-sm","text-slate-500","dark:text-slate-400"],[1,"space-y-8","bg-white","dark:bg-slate-800","p-6","sm:p-8","rounded-3xl","shadow-sm","ring-1","ring-slate-200","dark:ring-white/5"],[1,"text-xs","font-bold","uppercase","tracking-wider","text-slate-400","dark:text-slate-500","mb-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"cursor-pointer","relative"],["type","radio","name","gameMode","value","classic",1,"peer","sr-only",3,"change","checked"],[1,"p-4","rounded-xl","border-2","border-slate-100","dark:border-slate-700","bg-slate-50","dark:bg-slate-800/50","hover:bg-slate-100","dark:hover:bg-slate-700","peer-checked:border-blue-500","dark:peer-checked:border-blue-500","peer-checked:bg-blue-50","dark:peer-checked:bg-blue-900/20","transition-all"],[1,"text-2xl","mb-2"],[1,"font-bold","text-slate-900","dark:text-white"],[1,"text-xs","text-slate-500","dark:text-slate-400"],["type","radio","name","gameMode","value","blitz",1,"peer","sr-only",3,"change","checked"],[1,"flex","gap-2","bg-slate-100","dark:bg-slate-700","p-1.5","rounded-xl"],["class","flex-1 py-2 rounded-lg text-sm font-semibold transition-all",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex-1","py-2","rounded-lg","text-sm","font-semibold","transition-all",3,"click","ngClass"],[1,"space-y-3"],[1,"flex","items-center","p-3","rounded-xl","border","border-slate-200","dark:border-slate-700","cursor-pointer","hover:bg-slate-50","dark:hover:bg-slate-700","has-[:checked]:border-blue-500","dark:has-[:checked]:border-blue-500","has-[:checked]:bg-blue-50/50","dark:has-[:checked]:bg-blue-900/20","transition-all"],["type","radio","name","practiceMode","value","new",1,"w-5","h-5","text-blue-600","border-slate-300","focus:ring-blue-500",3,"change","checked"],[1,"ml-3"],[1,"block","text-sm","font-bold","text-slate-900","dark:text-white"],[1,"block","text-xs","text-slate-500","dark:text-slate-400"],["type","radio","name","practiceMode","value","practice",1,"w-5","h-5","text-blue-600","border-slate-300","focus:ring-blue-500",3,"change","checked"],[1,"w-full","py-4","px-6","bg-gradient-to-r","from-blue-600","to-indigo-600","hover:from-blue-700","hover:to-indigo-700","text-white","font-bold","rounded-xl","shadow-lg","shadow-blue-500/30","transform","transition-all","active:scale-[0.98]","disabled:opacity-70","disabled:cursor-not-allowed","flex","items-center","justify-center","gap-2",3,"click","disabled"],["class","animate-spin",4,"ngIf"],[1,"animate-spin"]],template:function(e,s){e&1&&(i(0,"div",0),b(1,Z,14,2,"div",1)(2,ie,62,13,"div",2),n()),e&2&&(l(),d("ngIf",s.currentScreen()==="home"),l(),d("ngIf",s.currentScreen()==="config"))},dependencies:[j,L,A,O,H],styles:["[_nghost-%COMP%]{display:block}.quick-action-subtitle[_ngcontent-%COMP%]{margin-top:4px;font-size:.75rem;color:#94a3b8}"]})};export{R as MenuComponent};
